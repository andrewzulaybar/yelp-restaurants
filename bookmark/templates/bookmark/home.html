{% extends "bookmark/base.html" %}
{% block content %}
    {% for restaurant in restaurants %}
        <!-- Card -->
        <div class="card shadow-sm mb-3 bg-light">
            <!-- Card header -->
            <div class="card-header">
                <h5 class="card-title">{{ restaurant.name }}</h5>
                <h6 class="card-subtitle"> {{ restaurant.location.address1 }} </h6>
                <ul class="nav nav-tabs card-header-tabs pt-2" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#info{{ restaurant.id }}">Info</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#hours{{ restaurant.id }}" role="tab">Hours</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#location{{ restaurant.id }}" role="tab">Location</a>
                    </li>
                </ul>
            </div>
            <!-- Card body -->
            <div class="card-body p-2">
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="info{{ restaurant.id }}" role="tabpanel">
                        <img class="img-thumbnail float-left mr-2" src="{{ restaurant.image_url }}" alt="...">
                    </div>
                    <div class="tab-pane fade" id="hours{{ restaurant.id }}" role="tabpanel"></div>
                    <div class="tab-pane fade" id="location{{ restaurant.id }}" role="tabpanel"></div>
                </div>
            </div>
            <!-- Card footer -->
            <div class="card-footer p-2">
                <!-- Visited form -->
                {% block visited %}
                    <form action="add-to-visited" method="post">
                        {% csrf_token %}
                        <input type="hidden" name="name" value="{{ restaurant.name }}">
                        <input type="hidden" name="address" value="{{ restaurant.location.address1 }}">
                        <input type="hidden" name="business_id" value="{{ restaurant.id }}">
                        <input type="hidden" name="visited" value="True">
                        <input type="hidden" name="bookmark" value="False">
                        {% block visited_button %}
                            <input type="submit" class="btn-sm btn-primary float-left" value="Visited">
                        {% endblock visited_button %}
                    </form>
                {% endblock visited %}
                <!-- Bookmark form -->
                {% block bookmark %}
                    <form action="add-to-bookmarks" method="post">
                        {% csrf_token %}
                        <input type="hidden" name="name" value="{{ restaurant.name }}">
                        <input type="hidden" name="address" value="{{ restaurant.location.address1 }}">
                        <input type="hidden" name="business_id" value="{{ restaurant.id }}">
                        <input type="hidden" name="visited" value="False">
                        <input type="hidden" name="bookmark" value="True">
                        {% block bookmark_button %}
                            <input type="submit" class="btn-sm btn-primary float-right" value="Bookmark">
                        {% endblock bookmark_button %}
                    </form>
                {% endblock bookmark %}
            </div>
        </div>
    {% endfor %}
{% endblock content %}